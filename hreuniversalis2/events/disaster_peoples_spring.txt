namespace = peoples_spring

########################################
# Peoples' Spring
########################################

#Start
country_event = {
	id = peoples_spring.1
	title = peoples_spring.1.t
	desc = peoples_spring.1.d
	picture = REVOLUTION_eventPicture
	
	major = yes
	is_triggered_only = yes

	mean_time_to_happen = { days = 1 }
	
	immediate = {
		hidden_effect = {
			set_country_flag = had_peoples_spring
			random_owned_province = {
				spawn_rebels = {
					size = 5
					win = yes
					type = revolutionary_rebels
				}
			}
			random_owned_province = {
				spawn_rebels = {
					size = 5
					win = yes
					type = revolutionary_rebels
				}
			}
			random_owned_province = {
				spawn_rebels = {
					size = 5
					win = yes
					type = revolutionary_rebels
				}
			}
			random_owned_province = {
				spawn_rebels = {
					size = 5
					win = yes
					type = revolutionary_rebels
				}
			}
			random_owned_province = {
				spawn_rebels = {
					size = 5
					win = yes
					type = revolutionary_rebels
				}
			}
		}
	}
	
	option = {
		name = peoples_spring.1.a
		add_stability = -5
	}
}

#Factory workers strike
country_event = {
	id = peoples_spring.2
	title = peoples_spring.2.t
	desc = peoples_spring.2.d
	picture = REVOLUTION_eventPicture

	is_triggered_only = yes

	trigger = {
		NOT = {
			any_owned_province = {
				has_province_modifier = workers_strike
			}
		}
		NOT = {
			any_owned_province = {
				has_province_modifier = concessions_for_factory_workers
			}
		}
		any_owned_province = {
			culture_group = ROOT
			has_manufactory_trigger = yes
		}
	}

	option = {
		name = peoples_spring.2.a
		every_owned_province = {
			limit = {
				culture_group = ROOT
				has_manufactory_trigger = yes
			}
			add_province_modifier = {
				name = workers_strike
				duration = 730
			}
		}
	}
	option = {
		name = peoples_spring.2.b
		every_owned_province = {
			limit = {
				culture_group = ROOT
				has_manufactory_trigger = yes
			}
			add_province_modifier = {
				name = concessions_for_factory_workers
				duration = 730
			}
		}
	}
}

#

#End
country_event = {
	id = peoples_spring.100
	title = peoples_spring.100.t
	desc = peoples_spring.100.d
	picture = REVOLUTION_eventPicture

	is_triggered_only = yes
	major = yes

	mean_time_to_happen = { days = 1 }

	option = {
		name = peoples_spring.100.a
		add_stability_or_adm_power = yes
	}
}