########################################
# Iconoclast
########################################
namespace = vn_iconoclast_events

country_event = {
	id = vn_iconoclast_events.1
	title = vn_iconoclast_events.1.t
	desc = vn_iconoclast_events.1.d
	picture = ICONS_IN_CHURCH_eventPicture
	
	is_triggered_only = yes
	trigger = {
		has_dlc = "Third Rome"
		uses_religious_icons = yes
		current_icon = icon_aniconism_eleusa
		NOT = { religious_unity = 0.9 }
    }
    mean_time_to_happen = { days = 1 }

    option = {
        name = "vn_iconoclast_events.1.a"
		add_ruler_modifier = {
			name = "iconoclast_conversion"
			duration = 3650
		}
    }
}

country_event = {
	id = vn_iconoclast_events.2
	title = vn_iconoclast_events.2.t
	desc = vn_iconoclast_events.2.d
	picture = ORTHODOX_ICON_FLAG_eventPicture
	
	is_triggered_only = yes
	trigger = {
		has_dlc = "Third Rome"
		uses_religious_icons = yes
		current_icon = icon_aniconism_michael
		any_neighbor_country = {
			religion_group = christian
			NOT = { religion = iconoclast }
		}
    }
    mean_time_to_happen = { days = 1 }

	immediate = {
		hidden_effect = {
			random_neighbor_country = {
				limit = {
					religion_group = christian
					NOT = { religion = iconoclast }
				}
				save_event_target_as = iconoclast_enemy
			}
		}
	}

    option = {
        name = "vn_iconoclast_events.2.a"
		add_army_tradition = 10
		add_casus_belli = {
			type = cb_heretic
			target = event_target:iconoclast_enemy
		}
    }
	option = {
        name = "vn_iconoclast_events.2.b"
		every_neighbor_country = {
			limit = {
				religion_group = christian
				NOT = { religion = iconoclast }
			}
			add_opinion = {
				who = ROOT
				modifier = opinion_pleased
			}
		}
    }
}

country_event = {
	id = vn_iconoclast_events.3
	title = vn_iconoclast_events.3.t
	desc = vn_iconoclast_events.3.d
	picture = ICONS_IN_CHURCH_eventPicture
	
	is_triggered_only = yes
	trigger = {
		has_dlc = "Third Rome"
		uses_religious_icons = yes
		current_icon = icon_aniconism_pancreator
    }
    mean_time_to_happen = { days = 1 }

    option = {
        name = "vn_iconoclast_events.3.a"
		add_papal_influence = 0.05
		add_years_of_income = 0.5
    }
}

country_event = {
	id = vn_iconoclast_events.4
	title = vn_iconoclast_events.4.t
	desc = vn_iconoclast_events.4.d
	picture = ICONS_IN_CHURCH_eventPicture
	
	is_triggered_only = yes
	trigger = {
		has_dlc = "Third Rome"
		uses_religious_icons = yes
		current_icon = icon_aniconism_climacus
    }
    mean_time_to_happen = { days = 1 }

    option = {
        name = "vn_iconoclast_events.4.a"
		add_adm_power = 25
		add_dip_power = 25
		add_mil_power = 25
    }
	option = {
        name = "vn_iconoclast_events.4.b"
		generate_scaled_advisor_of_type_and_religion_effect = {
			type = theologian
			religion = iconoclast
			discount = yes
		}
    }
}

country_event = {
	id = vn_iconoclast_events.5
	title = vn_iconoclast_events.5.t
	desc = vn_iconoclast_events.5.d
	picture = ORTHODOX_ICON_FLAG_eventPicture
	
	is_triggered_only = yes
	trigger = {
		has_dlc = "Third Rome"
		uses_religious_icons = yes
		current_icon = icon_aniconism_nicholas
    }
    mean_time_to_happen = { days = 1 }

    option = {
        name = "vn_iconoclast_events.5.a"
		add_stability_or_adm_power = yes
    }
}