namespace = collapse_of_the_khaganate

country_event = {
	id = collapse_of_the_khaganate.1
	title = collapse_of_the_khaganate.1.t
	desc = collapse_of_the_khaganate.1.d
	picture = OVEREXTENSION_eventPicture

	is_triggered_only = yes
	major = yes

	immediate = {
		hidden_effect = {
			set_country_flag = had_collapse_of_the_khaganate
			random_owned_province = {
				spawn_rebels = {
					size = 3
					type = tribal_rebels
				}
			}
			random_owned_province = {
				spawn_rebels = {
					size = 3
					type = tribal_rebels
				}
			}
			random_owned_province = {
				spawn_rebels = {
					size = 3
					type = tribal_rebels
				}
			}
			random_owned_province = {
				spawn_rebels = {
					size = 3
					type = tribal_rebels
				}
			}
			random_owned_province = {
				spawn_rebels = {
					size = 3
					type = tribal_rebels
				}
			}
		}
	}
	
	option = {
		name = collapse_of_the_khaganate.1.a
		add_stability = -3
		if = {
			limit = { has_country_modifier = invasion_nation_m }
			remove_country_modifier = invasion_nation_m
		}
	}
}

#Trade Disputes
country_event = {
	id = collapse_of_the_khaganate.2
	title = collapse_of_the_khaganate.2.t
	desc = collapse_of_the_khaganate.2.d
	picture = BORDER_TENSION_eventPicture

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_modifier = mongol_trade_disputes }
	}

	option = {
		name = collapse_of_the_khaganate.2.a
		add_mercantilism = -5
		add_disaster_modifier = {
			name = mongol_trade_disputes
			duration = -1
			disaster = collapse_of_the_khaganate
		}
	}
}

#Decline of Warfare
country_event = {
	id = collapse_of_the_khaganate.3
	title = collapse_of_the_khaganate.3.t
	desc = collapse_of_the_khaganate.3.d
	picture = WOUNDED_SOLDIERS_eventPicture

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_modifier = mongol_declining_warfare }
	}

	option = {
		name = collapse_of_the_khaganate.3.a
		add_army_tradition = -25
		add_disaster_modifier = {
			name = mongol_declining_warfare
			duration = -1
			disaster = collapse_of_the_khaganate
		}
	}
}

#Rising Corruption
country_event = {
	id = collapse_of_the_khaganate.4
	title = collapse_of_the_khaganate.4.t
	desc = collapse_of_the_khaganate.4.d
	picture = CORRUPTION_eventPicture

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_modifier = mongol_corruption }
	}

	option = {
		name = collapse_of_the_khaganate.4.a
		add_years_of_income = -1
		add_disaster_modifier = {
			name = mongol_corruption
			duration = -1
			disaster = collapse_of_the_khaganate
		}
	}
}

#Diplomatic Termination
country_event = {
	id = collapse_of_the_khaganate.5
	title = collapse_of_the_khaganate.5.t
	desc = collapse_of_the_khaganate.5.d
	picture = ACCUSATION_eventPicture

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_modifier = mongol_diplomatic_termination }
	}

	option = {
		name = collapse_of_the_khaganate.5.a
		add_stability = -1
		add_disaster_modifier = {
			name = mongol_diplomatic_termination
			duration = -1
			disaster = collapse_of_the_khaganate
		}
	}
}

#Social Unrest
country_event = {
	id = collapse_of_the_khaganate.6
	title = collapse_of_the_khaganate.6.t
	desc = collapse_of_the_khaganate.6.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes

	trigger = {
		NOT = { has_country_modifier = mongol_social_unrest }
	}

	option = {
		name = collapse_of_the_khaganate.6.a
		add_yearly_manpower = -1
		add_disaster_modifier = {
			name = mongol_social_unrest
			duration = -1
			disaster = mongol_social_unrest
		}
	}
}

#Crimea
country_event = {
	id = collapse_of_the_khaganate.7
	title = collapse_of_the_khaganate.7.t
	desc = collapse_of_the_khaganate.7.d
	picture = CIVIL_WAR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		any_owned_province = {
			OR = {
				region = azov_region
				region = crimea_region
				region = wild_fields_region
			}
		}
		any_owned_province = {
			NOT = {
				region = azov_region
				region = crimea_region
				region = wild_fields_region
			}
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = { NOT = { exists = CRI } }
				CRI = { set_country_flag = cri_didnt_exist }
			}
			azov_region = {
				limit = { owned_by = ROOT }
				add_core = CRI
				cede_province = CRI
				remove_core = ROOT
			}
			crimea_region = {
				limit = { owned_by = ROOT }
				add_core = CRI
				cede_province = CRI
				remove_core = ROOT
			}
			wild_fields_region = {
				limit = { owned_by = ROOT }
				add_core = CRI
				cede_province = CRI
				remove_core = ROOT
			}
			if = {
				limit = { CRI = { has_country_flag = cri_didnt_exist } }
				CRI = {
					set_government_rank = 5
					change_government = tribal
					add_government_reform = steppe_horde
					change_religion = ROOT
					remove_heir = yes
					define_ruler = {
						dynasty = "Giray"
					}
					capital_scope = {
						build_to_forcelimit = {
							infantry = 0.6
							cavalry = 0.4
						}
					}
					clr_country_flag = cri_didnt_exist
				}
			}
		}
	}
	
	option = {
		name = collapse_of_the_khaganate.7.a
		add_prestige= -5
	}
}

#Kazan
country_event = {
	id = collapse_of_the_khaganate.8
	title = collapse_of_the_khaganate.8.t
	desc = collapse_of_the_khaganate.8.d
	picture = CIVIL_WAR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		any_owned_province = {
			OR = {
				region = kazan_region
				region = mordovia_region
			}
		}
		any_owned_province = {
			NOT = {
				region = kazan_region
				region = mordovia_region
			}
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = { NOT = { exists = KAZ } }
				KAZ = { set_country_flag = kaz_didnt_exist }
			}
			kazan_region = {
				limit = { owned_by = ROOT }
				add_core = KAZ
				cede_province = KAZ
				remove_core = ROOT
			}
			mordovia_region = {
				limit = { owned_by = ROOT }
				add_core = KAZ
				cede_province = KAZ
				remove_core = ROOT
			}
			if = {
				limit = { KAZ = { has_country_flag = kaz_didnt_exist } }
				KAZ = {
					set_government_rank = 5
					change_government = tribal
					add_government_reform = steppe_horde
					change_religion = ROOT
					remove_heir = yes
					define_ruler = {
						dynasty = "Borjigin"
					}
					capital_scope = {
						build_to_forcelimit = {
							infantry = 0.6
							cavalry = 0.4
						}
					}
					clr_country_flag = kaz_didnt_exist
				}
			}
		}
	}
	
	option = {
		name = collapse_of_the_khaganate.8.a
		add_prestige= -5
	}
}

#Nogai
country_event = {
	id = collapse_of_the_khaganate.9
	title = collapse_of_the_khaganate.9.t
	desc = collapse_of_the_khaganate.9.d
	picture = CIVIL_WAR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		any_owned_province = {
			OR = {
				region = bashkiria_region
				area = atyrau_area
				area = oral_area
			}
		}
		any_owned_province = {
			NOT = {
				region = bashkiria_region
				area = atyrau_area
				area = oral_area
			}
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = { NOT = { exists = NOG } }
				NOG = { set_country_flag = nog_didnt_exist }
			}
			bashkiria_region = {
				limit = { owned_by = ROOT }
				add_core = NOG
				cede_province = NOG
				remove_core = ROOT
			}
			atyrau_area = {
				limit = { owned_by = ROOT }
				add_core = NOG
				cede_province = NOG
				remove_core = ROOT
			}
			oral_area = {
				limit = { owned_by = ROOT }
				add_core = NOG
				cede_province = NOG
				remove_core = ROOT
			}
			if = {
				limit = { NOG = { has_country_flag = nog_didnt_exist } }
				NOG = {
					set_government_rank = 5
					change_government = tribal
					add_government_reform = steppe_horde
					change_religion = ROOT
					remove_heir = yes
					define_ruler = {
						dynasty = "Manghut"
					}
					capital_scope = {
						build_to_forcelimit = {
							infantry = 0.6
							cavalry = 0.4
						}
					}
					clr_country_flag = nog_didnt_exist
				}
			}
		}
	}
	
	option = {
		name = collapse_of_the_khaganate.9.a
		add_prestige= -5
	}
}

#Astrakhan
country_event = {
	id = collapse_of_the_khaganate.10
	title = collapse_of_the_khaganate.10.t
	desc = collapse_of_the_khaganate.10.d
	picture = CIVIL_WAR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		any_owned_province = {
			OR = {
				region = lower_don_region
				area = kumykia_area
				area = kabardia_area
			}
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = { NOT = { exists = AST } }
				AST = { set_country_flag = ast_didnt_exist }
			}
			lower_don_region = {
				limit = { owned_by = ROOT }
				add_core = AST
				cede_province = AST
				remove_core = ROOT
			}
			kumykia_area = {
				limit = { owned_by = ROOT }
				add_core = AST
				cede_province = AST
				remove_core = ROOT
			}
			kabardia_area = {
				limit = { owned_by = ROOT }
				add_core = AST
				cede_province = AST
				remove_core = ROOT
			}
			if = {
				limit = { AST = { has_country_flag = ast_didnt_exist } }
				AST = {
					set_government_rank = 5
					change_government = tribal
					add_government_reform = steppe_horde
					change_religion = ROOT
					remove_heir = yes
					define_ruler = {
						dynasty = "Borjigin"
					}
					capital_scope = {
						build_to_forcelimit = {
							infantry = 0.6
							cavalry = 0.4
						}
					}
					clr_country_flag = ast_didnt_exist
				}
			}
		}
	}
	
	option = {
		name = collapse_of_the_khaganate.10.a
		add_prestige= -5
	}
}

#Great Horde
country_event = {
	id = collapse_of_the_khaganate.11
	title = collapse_of_the_khaganate.11.t
	desc = collapse_of_the_khaganate.11.d
	picture = CIVIL_WAR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		any_owned_province = {
			OR = {
				region = lower_don_region
				region = khopyor_region
				region = sloboda_region
			}
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = { NOT = { exists = GOL } }
				GOL = { set_country_flag = gol_didnt_exist }
			}
			lower_don_region = {
				limit = { owned_by = ROOT }
				add_core = GOL
				cede_province = GOL
				remove_core = ROOT
			}
			khopyor_region = {
				limit = { owned_by = ROOT }
				add_core = GOL
				cede_province = GOL
				remove_core = ROOT
			}
			sloboda_region = {
				limit = { owned_by = ROOT }
				add_core = GOL
				cede_province = GOL
				remove_core = ROOT
			}
			if = {
				limit = { GOL = { has_country_flag = gol_didnt_exist } }
				GOL = {
					set_government_rank = 5
					change_government = tribal
					add_government_reform = steppe_horde
					change_religion = ROOT
					remove_heir = yes
					define_ruler = {
						dynasty = "Borjigin"
					}
					capital_scope = {
						build_to_forcelimit = {
							infantry = 0.6
							cavalry = 0.4
						}
					}
					clr_country_flag = gol_didnt_exist
				}
			}
		}
	}
	
	option = {
		name = collapse_of_the_khaganate.11.a
		add_prestige= -5
	}
}

#Jalarids
country_event = {
	id = collapse_of_the_khaganate.12
	title = collapse_of_the_khaganate.12.t
	desc = collapse_of_the_khaganate.12.d
	picture = CIVIL_WAR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		any_owned_province = {
			OR = {
				region = lower_mesopotamia_region
				area = dulaim_area
			}
		}
		any_owned_province = {
			NOT = {
				region = lower_mesopotamia_region
				area = dulaim_area
			}
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = { NOT = { exists = JYA } }
				JYA = { set_country_flag = jya_didnt_exist }
			}
			lower_mesopotamia_region = {
				limit = { owned_by = ROOT }
				add_core = JYA
				cede_province = JYA
				remove_core = ROOT
			}
			dulaim_area = {
				limit = { owned_by = ROOT }
				add_core = JYA
				cede_province = JYA
				remove_core = ROOT
			}
			if = {
				limit = { JYA = { has_country_flag = jya_didnt_exist } }
				JYA = {
					set_government_rank = 4
					change_government = tribal
					add_government_reform = tribal_federation
					remove_heir = yes
					define_ruler = {
						dynasty = "Jalair"
					}
					capital_scope = {
						build_to_forcelimit = {
							infantry = 0.6
							cavalry = 0.4
						}
					}
					clr_country_flag = jya_didnt_exist
				}
			}
		}
	}
	
	option = {
		name = collapse_of_the_khaganate.12.a
		add_prestige= -5
	}
}

#Qara Qoyunlu
country_event = {
	id = collapse_of_the_khaganate.13
	title = collapse_of_the_khaganate.13.t
	desc = collapse_of_the_khaganate.13.d
	picture = CIVIL_WAR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		any_owned_province = {
			OR = {
				region = al_jazira_region
				area = mosul_area
				area = zagros_area
				area = shahrizor_area
				area = zab_area
			}
		}
		any_owned_province = {
			NOT = {
				region = al_jazira_region
				area = mosul_area
				area = zagros_area
				area = shahrizor_area
				area = zab_area
			}
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = { NOT = { exists = QAR } }
				QAR = { set_country_flag = qar_didnt_exist }
			}
			al_jazira_region = {
				limit = { owned_by = ROOT }
				add_core = QAR
				cede_province = QAR
				remove_core = ROOT
			}
			mosul_area = {
				limit = { owned_by = ROOT }
				add_core = QAR
				cede_province = QAR
				remove_core = ROOT
			}
			zagros_area = {
				limit = { owned_by = ROOT }
				add_core = QAR
				cede_province = QAR
				remove_core = ROOT
			}
			shahrizor_area = {
				limit = { owned_by = ROOT }
				add_core = QAR
				cede_province = QAR
				remove_core = ROOT
			}
			zab_area = {
				limit = { owned_by = ROOT }
				add_core = QAR
				cede_province = QAR
				remove_core = ROOT
			}
			if = {
				limit = { QAR = { has_country_flag = qar_didnt_exist } }
				QAR = {
					set_government_rank = 5
					change_government = tribal
					add_government_reform = tribal_federation
					remove_heir = yes
					define_ruler = {
						dynasty = "Qara Qoyunlu"
					}
					capital_scope = {
						build_to_forcelimit = {
							infantry = 0.6
							cavalry = 0.4
						}
					}
					clr_country_flag = qar_didnt_exist
				}
			}
		}
	}
	
	option = {
		name = collapse_of_the_khaganate.13.a
		add_prestige = 5
	}
}

#Aq Qoyunlu
country_event = {
	id = collapse_of_the_khaganate.14
	title = collapse_of_the_khaganate.14.t
	desc = collapse_of_the_khaganate.14.d
	picture = CIVIL_WAR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		any_owned_province = {
			OR = {
				region = sophene_region
			}
		}
	}

	immediate = {
		hidden_effect = {
			if = {
				limit = { NOT = { exists = AKK } }
				AKK = { set_country_flag = akk_didnt_exist }
			}
			sophene_region = {
				limit = { owned_by = ROOT }
				add_core = AKK
				cede_province = AKK
				remove_core = ROOT
			}
			if = {
				limit = { AKK = { has_country_flag = akk_didnt_exist } }
				AKK = {
					set_government_rank = 3
					change_government = tribal
					add_government_reform = tribal_federation
					remove_heir = yes
					define_ruler = {
						dynasty = "Aq Qoyunlu"
					}
					capital_scope = {
						build_to_forcelimit = {
							infantry = 0.6
							cavalry = 0.4
						}
					}
					clr_country_flag = akk_didnt_exist
				}
			}
		}
	}
	
	option = {
		name = collapse_of_the_khaganate.14.a
		add_prestige= -5
	}
}

country_event = {
	id = collapse_of_the_khaganate.100
	title = collapse_of_the_khaganate.100.t
	desc = collapse_of_the_khaganate.100.d
	picture = WOUNDED_SOLDIERS_eventPicture

	is_triggered_only = yes
	major = yes

	option = {
		name = collapse_of_the_khaganate.100.a
		#if = {
			#limit = { ai = yes }
			collapse_nation = yes
		#}
	}
}