#Feudalization
# byzantine_feudalization_mechanic = {
# 	available = { }

# 	powers = {
# 		byzantine_feudalization = {
# 			gui = russian_modernization_gov_mech
# 			max = 100
# 			reset_on_new_ruler = no
# 			base_monthly_growth = -0.3
# 			development_scaled_monthly_growth = 0
# 			monarch_power = adm
# 			scaled_modifier = {
# 				modifier = {
# 					global_unrest = 5
# 					stability_cost_modifier = 1
# 					all_estate_loyalty_equilibrium = -0.1
# 					yearly_corruption = -0.2
# 					legitimacy = 1
# 					state_governing_cost = -0.5
# 				}
# 			}
# 			is_good = yes
# 		}
# 	}
# }

#Court Adoption
byzantine_succession_mechanic = {
	alert_icon_gfx = GFX_alerticons_government_mechanics
	alert_icon_index = 10
	available = { }
	
	interactions = {
		byz_succession_bureaucracy = {
			icon = GFX_succession_bureaucracy_button
			trigger = {
				ruler_age = 40
				OR = {
					monthly_adm = 10 
					adm = 5 
					national_focus = ADM
				}
				adm_power_cost = 50
			}
			effect = {
				adm_power_cost = 50
				custom_tooltip = byz_succession_bureaucracy.tt
				if = {
					limit = {
						has_estate = estate_nobles
						has_estate = estate_eunuchs
					}
					add_estate_loyalty = {
						estate = estate_nobles
						loyalty = -10
					}
					add_estate_loyalty = {
						estate = estate_eunuchs
						loyalty = 10
					}
					add_estate_influence_modifier = {
						estate = estate_eunuchs
						influence = 15
						duration = 3650
					}
				}
				hidden_effect = {
					define_heir = {
						age = 30
						change_adm = 2
						claim = 50
						no_consort_with_heir = yes
					}
				}
				add_ruler_modifier = {
					name = byz_succession_bureaucracy_mod
					duration = 3650
				}
			}
			cooldown_years = 10
			cooldown_token = byzantine_succession_mechanic
			cooldown_desc = BYZANTINE_SUCCESSION_HAPPENED
			ai_chance = {
				factor = 20
			}
		}
		byz_succession_dynasty = {
			icon = GFX_succession_dynasty_button
			trigger = { 
				ruler_age = 40
				OR = {
					monthly_dip = 10 
					dip = 5 
					national_focus = DIP
				}
				dip_power_cost = 50
			}
			effect = { 
				dip_power_cost = 50
				custom_tooltip = byz_succession_dynasty.tt
				if = {
					limit = {
						has_estate = estate_nobles
						has_estate = estate_eunuchs
					}
					add_estate_loyalty = {
						estate = estate_eunuchs
						loyalty = -5
					}
					add_estate_loyalty = {
						estate = estate_nobles
						loyalty = -5
					}
					add_estate_influence_modifier = {
						estate = estate_eunuchs
						influence = -10
						duration = 3650
					}
					add_estate_influence_modifier = {
						estate = estate_nobles
						influence = -10
						duration = 3650
					}
				}
				hidden_effect = {
					define_heir = {
						dynasty = ROOT
						age = 30
						change_dip = 2
						claim = 50
						no_consort_with_heir = yes
					}
				}
				add_ruler_modifier = {
					name = byz_succession_dynasty_mod
					duration = 3650
				}
			}
			cooldown_years = 10
			cooldown_token = byzantine_succession_mechanic
			cooldown_desc = BYZANTINE_SUCCESSION_HAPPENED
			ai_chance = {
				factor = 20
			}
		}
		byz_succession_army = {
			icon = GFX_succession_army_button
			trigger = {
				ruler_age = 40
				OR = {
					monthly_mil = 10 
					mil = 5 
					national_focus = MIL
				}
				mil_power_cost = 50
			}
			effect = { 
				mil_power_cost = 50
				custom_tooltip = byz_succession_army.tt
				if = {
					limit = {
						has_estate = estate_nobles
						has_estate = estate_eunuchs
					}
					add_estate_loyalty = {
						estate = estate_eunuchs
						loyalty = -10
					}
					add_estate_loyalty = {
						estate = estate_nobles
						loyalty = 10
					}
					add_estate_influence_modifier = {
						estate = estate_nobles
						influence = 15
						duration = 3650
					}
				}
				hidden_effect = {
					hidden_effect = {
						define_heir = {
							age = 30
							change_mil = 2
							claim = 50
							no_consort_with_heir = yes
						}
					}
				}
				add_ruler_modifier = {
					name = byz_succession_army_mod
					duration = 3650
				}
			}
			cooldown_years = 10
			cooldown_token = byzantine_succession_mechanic
			cooldown_desc = BYZANTINE_SUCCESSION_HAPPENED
			ai_chance = {
				factor = 20
			}
		}
	}
}