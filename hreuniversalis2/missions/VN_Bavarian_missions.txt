vn_bav_missions_slot_1 = {
    slot = 6
    generic = no
    ai = yes

    potential = {
        tag = BAV
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes

    vn_bav_conquer_argengau = {
        position = 3
        icon = mission_unite_home_region
        required_missions = { vn_bav_conquer_burgau }
        provinces_to_highlight = {
            OR = {
                area = rammgau_area
                area = argengau_area
                area = hegau_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            rammgau_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            argengau_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            hegau_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            69 = {
                add_province_modifier = {
                    name = bav_conquer_argengau_mission
                    duration = 9125
                }
            }
        }
    }
    vn_bav_papal_relations = {
        position = 5
        icon = mission_religious
        required_missions = { }
        trigger = {
			if = {
                limit = { religion = catholic }
                reverse_has_opinion = {
                    who = PAP
                    value = 150
                }
            }
            else_if = {
                limit = { religion = catholique }
                reverse_has_opinion = {
                    who = AVI
                    value = 150
                }
            }
            else = {
                num_of_allies = 5
            }
            if = {
                limit = { uses_papacy = yes }
                papal_influence = 50
            }
        }
        effect = {
            add_prestige = 10
        }
    }
    vn_bav_weather_reformation = {
        icon = mission_luther_theses
        required_missions = { vn_bav_papal_relations }
        trigger = {
            OR = {
                current_age = age_of_reformation
                current_age = age_of_absolutism
                current_age = age_of_revolutions
                current_age = age_of_ideology
            }
			OR = {
                has_country_modifier = counter_reformation
                AND = {
                    NOT = { religion = catholic }
                    NOT = { religion = catholique }
                }
            }
        }
        effect = {
            add_country_modifier = {
                name = bav_weather_reformation_mission
                duration = 7300
            }
        }
    }
    vn_bav_jesuitenkolleg_ingolstadt = {
        icon = mission_rb_the_education_acts
        required_missions = { vn_bav_weather_reformation }
        provinces_to_highlight = {
            province_id = 2431
        }
        trigger = {
			2431 = {
                owned_by = ROOT
                has_building = university
            }
        }
        effect = {
            add_country_modifier = {
                name = bav_jesuitenkolleg_ingolstadt_mission
                duration = 9125
            }
        }
    }
    vn_bav_lead_catholic_league = {
        icon = mission_cannons_firing
        required_missions = { vn_bav_jesuitenkolleg_ingolstadt }
        trigger = {
            hre_religion_locked = yes
            hre_religion = catholic
            religion = catholic
        }
        effect = {
            add_papal_influence = 25
            add_country_modifier = {
                name = bav_lead_catholic_league_mission
                duration = -1
            }
        }
    }
    vn_bav_reform_the_army = {
        position = 9
        icon = mission_assemble_an_army
        required_missions = { }
        trigger = {
            if = {
                limit = { has_dlc = "Cradle of Civilization" }
                army_professionalism = 0.5
            }
            else = {
                army_tradition = 50
            }
            army_size = 80
            num_of_owned_provinces_with = {
				value = 5
				base_manpower = 12
				OR = {
					has_building = barracks
					has_building = training_fields
				}
				OR = {
					has_building = regimental_camp
					has_building = conscription_center
				}
			}
        }
        effect = {
            add_country_modifier = {
                name = bav_reform_the_army_mission
                duration = 9125
            }
        }
    }
    vn_bav_french_alliance = {
        icon = mission_humiliate_provence
        required_missions = { vn_bav_reform_the_army }
        trigger = {
            if = {
                limit = { exists = FRA }
                alliance_with = FRA
            }
            else = {
                any_ally = {
                    culture_group = french
                }
            }
        }
        effect = {
            create_general = {
                tradition = 100
                culture = cosmopolitan_french
            }
            add_country_modifier = {
                name = bav_french_alliance_mission
                duration = 9125
            }
        }
    }
}

vn_bav_missions_slot_2 = {
    slot = 7
    generic = no
    ai = yes

    potential = {
        tag = BAV
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes

    vn_bav_conquer_burgau = {
        position = 2
        icon = mission_unite_home_region
        required_missions = { vn_bav_please_the_nobility }
        provinces_to_highlight = {
            OR = {
                area = augsburg_area
                area = burgau_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            augsburg_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            burgau_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            ravensburg_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            salzburg_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_bav_conquer_salzburg = {
        icon = mission_unite_home_region
        required_missions = { vn_bav_conquer_burgau vn_bav_imperial_marriage }
        provinces_to_highlight = {
            area = salzburg_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
			salzburg_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            76 = {
                add_base_tax = 2
                add_base_manpower = 1
            }
            if = {
				limit = {
					exists = TIR
					is_free_or_tributary_trigger = yes
					government = monarchy
					religion_group = christian
					TIR = {
						is_free_or_tributary_trigger = yes
						government = monarchy
						religion_group = christian
					}
				}
				add_casus_belli = {
					type = cb_fabricated_claims
					months = 300
					target = TIR
				}
			}
			else = {
				tirolia_region = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
        }
    }
    vn_bav_conquer_tirol = {
        icon = mission_unite_home_region
        required_missions = { vn_bav_conquer_salzburg }
        provinces_to_highlight = {
            region = tirolia_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
			tirolia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            austria_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            styria_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            carinthia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
            murmark_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
        }
    }
    vn_bav_conquer_austria = {
        icon = mission_unite_home_region
        required_missions = { vn_bav_conquer_tirol }
        provinces_to_highlight = {
            OR = {
                region = austria_region
                area = styria_area
                area = carinthia_area
                area = murmark_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
			austria_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            styria_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            carinthia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            murmark_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {

        }
    }
    vn_bav_conquer_brandenburg = {
        position = 7
        icon = mission_unite_home_region
        required_missions = { vn_bav_conquer_wurzburg }
        provinces_to_highlight = {
            region = brandenburg_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
                value = 7
                region = brandenburg_region
            }
        }
        effect = {

        }
    }
    vn_bav_ecclesiastical_restauration = {
        icon = mission_religious
        required_missions = { vn_bav_jesuitenkolleg_ingolstadt }
        trigger = {
            religious_unity = 1
			if = {
                limit = {
                    OR = {
                        religion = catholic
                        religion = catholique
                    }
                }
                OR = {
                    invested_papal_influence = 50
                    is_papal_controller = yes
                }
            }
            OR = {
                temple = 10
                cathedral = 5
            }
        }
        effect = {
            add_estate_church_loyalty_effect = yes
            add_country_modifier = {
                name = bav_ecclesiastical_restauration_mission
                duration = 9125
            }
        }
    }
}

vn_bav_missions_slot_3 = {
    slot = 8
    generic = no
    ai = yes

    potential = {
        tag = BAV
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes

    vn_bav_please_the_nobility = {
        position = 1
        icon = mission_noble_council
        required_missions = { }
        trigger = {
            stability = 2
            if = {
                limit= { has_estate = estate_nobles }
                estate_territory = {
                    estate = estate_nobles
                    territory = 30
                }
            }
        }
        effect = {
            augsburg_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            aargau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            oberpfalz_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_bav_imperial_marriage = {
        icon = mission_alliances
        required_missions = { vn_bav_please_the_nobility }
        trigger = {
            if = {
                limit = { hre_size = 1 }
                is_emperor = yes
                AND = {
                    marriage_with = emperor
                    reverse_has_opinion = {
                        who = emperor
                        value = 150
                    }
                }
            }
            else = {
                num_of_allies = 7
            }
            OR = {
                is_emperor = yes
                AND = {
                    marriage_with = emperor
                    reverse_has_opinion = {
                        who = emperor
                        value = 150
                    }
                }
            }
        }
        effect = {
            add_dip_power = 100
            bavaria_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_bav_conquer_bavaria = {
        icon = mission_unite_home_region
        required_missions = { vn_bav_imperial_marriage }
        provinces_to_highlight = {
            region = bavaria_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            bavaria_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            eichstadt_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            ansbach_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = bav_conquer_bavaria_mission
                duration = 9125
            }
        }
    }
    vn_bav_conquer_ansbach = {
        icon = mission_unite_home_region
        required_missions = { vn_bav_conquer_bavaria }
        provinces_to_highlight = {
            OR = {
                area = eichstadt_area
                area = ansbach_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            eichstadt_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
			ansbach_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            bayreuth_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_bav_conquer_bayreuth = {
        icon = mission_unite_home_region
        required_missions = { vn_bav_conquer_ansbach }
        provinces_to_highlight = {
            area = bayreuth_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
			bayreuth_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            wurzburg_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_bav_conquer_wurzburg = {
        icon = mission_unite_home_region
        required_missions = { vn_bav_conquer_bayreuth }
        provinces_to_highlight = {
            OR = {
                area = darmstadt_area
            }
            area = wurzburg_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
			wurzburg_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            brandenburg_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_bav_build_neuschwanstein = {
        position = 9
        icon = mission_european_castle
        required_missions = { vn_bav_ecclesiastical_restauration vn_bav_wittelsbacher_rise vn_bav_conquer_wurzburg }
        provinces_to_highlight = {
            province_id = 671
            OR = {
                NOT = { owned_by = ROOT }
                NOT = {
                    OR = {
                        has_building = fort_17th
                        has_building = fort_18th
                    }
                }
            }
        }
        trigger = {
			671 = {
                owned_by = ROOT
                OR = {
                    has_building = fort_17th
                    has_building = fort_18th
                }
            }
        }
        effect = {
            add_prestige = 10
            671 = {
                add_base_tax = 1
                add_base_production = 1
                add_base_manpower = 1
                add_province_modifier = {
                    name = bav_build_neuschwanstein_mission
                    duration = -1
                }
            }
        }
    }
    vn_bav_bavarian_kingdom = {
        icon = mission_empire
        required_missions = { vn_bav_build_neuschwanstein }
        trigger = {
            government_rank = 5
            grown_by_development = 500
        }
        effect = {
            add_prestige = 25
            add_legitimacy = 25
            add_adm_power = 100
            add_dip_power = 100
            add_mil_power = 100
        }
    }
}

vn_bav_missions_slot_4 = {
    slot = 9
    generic = no
    ai = yes
    
    potential = {
        tag = BAV
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes

    vn_bav_conquer_nordgau = {
        position = 2
        icon = mission_unite_home_region
        required_missions = { vn_bav_please_the_nobility }
        provinces_to_highlight = {
            area = oberpfalz_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
			oberpfalz_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            if = {
				limit = {
					exists = PAL
					is_free_or_tributary_trigger = yes
					government = monarchy
					religion_group = christian
					PAL = {
						is_free_or_tributary_trigger = yes
						government = monarchy
						religion_group = christian
					}
				}
				add_casus_belli = {
					type = cb_fabricated_claims
					months = 300
					target = PAL
				}
			}
			else = {
				pfalzeast_area = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
        }
    }
    vn_bav_conquer_palatinate = {
        position = 4
        icon = mission_unite_home_region
        required_missions = { vn_bav_conquer_nordgau vn_bav_conquer_bavaria }
        provinces_to_highlight = {
           province_id = 2732
           NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
			OR = {
                senior_union_with = PAL
                2732 = { country_or_non_sovereign_subject_holds = ROOT }
            }
        }
        effect = {
            add_prestige = 5
            add_country_modifier = {
                name = bav_conquer_palatinate_mission
                duration = 9125
            }
        }
    }
    vn_bav_bavarian_electorate = {
        position = 6
        icon = mission_monarch_in_throne_room
        required_missions = { vn_bav_conquer_palatinate }
        trigger = {
			if = {
                limit = { hre_size = 1 }
                OR = {
                    is_elector = yes
                    has_spy_network_in = {
                        who = emperor
                        value = 100
                    }
                }
            }
            else = {
                grown_by_development = 500
            }
        }
        effect = {
            austria_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
            }
            austria_region = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_core = ROOT }
				}
				add_permanent_claim = ROOT
			}
        }
    }
    vn_bav_wittelsbacher_rise = {
        position = 8
        icon = mission_alliances
        required_missions = { vn_bav_bavarian_electorate }
        trigger = {
            if = {
                limit = { has_dlc = "Rights of Man" }
                is_great_power = yes
            }
            else = {
                grown_by_development = 250
            }
            legitimacy_equivalent = 100
            stability = 2
        }
        effect = {
            create_general = {
                tradition = 75
            }
            add_country_modifier = {
                name = bav_wittelsbacher_rise_mission
                duration = 7300
            }
        }
    }
}

vn_bav_missions_slot_5 = {
    slot = 10
    generic = no
    ai = yes

    potential = {
        tag = BAV
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes

    vn_bav_bavarian_baroque = {
        position = 1
        icon = mission_portico
        required_missions = { }
        trigger = {
            prestige = 75
            OR = {
                temple = 10
                cathedral = 5
            }
        }
        effect = {
            add_country_modifier = {
                name = bav_bavarian_baroque_mission
                duration = 9125
            }
        }
    }
    vn_bav_develop_munich = {
        icon = mission_buildings
        required_missions = { vn_bav_bavarian_baroque }
        provinces_to_highlight = {
            province_id = 913
        }
        trigger = {
			913 = {
                owned_by = ROOT
                num_of_times_improved = 12
                OR = {
                    has_building = temple
                    has_building = cathedral
                }
                OR = {
                    has_building = workshop
                    has_building = counting_house
                }
            }
        }
        effect = {
            if = {
                limit = {
                    913 = {
                        NOT = { province_has_center_of_trade_of_level = 3 }
                    }
                }
                913 = {
                    add_center_of_trade_level = 1
                }
            }
            else = {
                913 = {
                    add_base_production = 3
                }
            }
        }
    }
    vn_bav_reinheitsgebot = {
        icon = mission_have_manufactories
        required_missions = { vn_bav_develop_munich }
        trigger = {
            trading_bonus = {
                trade_goods = beer
                value = yes
            }
            num_of_owned_provinces_with = {
                trade_goods = beer
                has_building = farm_estate
                value = 5
            }
        }
        effect = {
            add_country_modifier = {
                name = bav_reinheitsgebot_mission
                duration = -1
            }
        }
    }
    vn_bav_conquer_hainaut = {
        position = 5
        icon = mission_unite_home_region
        required_missions = { vn_bav_conquer_palatinate }
        provinces_to_highlight = {
            region = wallonian_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            wallonian_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            if = {
				limit = {
					exists = KOL
					is_free_or_tributary_trigger = yes
					KOL = {
						is_free_or_tributary_trigger = yes
					}
				}
				add_casus_belli = {
					type = cb_vassalize_mission
					months = 300
					target = KOL
				}
			}
			else = {
				hainaut_area = {
					limit = {
						NOT = { is_core = ROOT }
						NOT = { is_permanent_claim = ROOT }
					}
					add_permanent_claim = ROOT
				}
			}
        }
    }
    vn_bav_conquer_cologne = {
        position = 7
        icon = mission_unite_home_region
        required_missions = { vn_bav_conquer_hainaut vn_bav_bavarian_electorate }
        provinces_to_highlight = {
            area = cologne_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
        trigger = {
            cologne_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
        }
        effect = {
            #Event turn cologne into a duchy
        }
    }
    vn_bav_centralize_bavaria = {
        position = 9
        icon = mission_noble_council
        required_missions = { }
        provinces_to_highlight = {
            region = bavaria_region
            OR = {
                NOT = { owned_by = ROOT }
                local_autonomy = 30
            }
        }
        trigger = {
            if = {
                limit = { has_dlc = "Dharma" }
                has_reform_level = 6
            }
            else = {
                stability = 3
            }
			bavaria_region = {
                type = all
                owned_by = ROOT
                NOT = { local_autonomy = 30 }
            }
        }
        effect = {
            increase_legitimacy_medium_effect = yes
            add_country_modifier = {
                name = bav_centralize_bavaria_mission
                duration = 7300
            }
        }
    }
    vn_bav_absolutistic_rule = {
        icon = mission_monarch_in_throne_room
        required_missions = { vn_bav_centralize_bavaria }
        trigger = {
            absolutism = 50
            if = {
                limit = { has_estate = estate_nobles }
                NOT = {
                    estate_influence = {
                        estate = estate_nobles
                        influence = 50
                    }
                }
            }
            if = {
                limit = { has_estate = estate_church }
                NOT = {
                    estate_influence = {
                        estate = estate_church
                        influence = 50
                    }
                }
            }
            if = {
                limit = { has_estate = estate_burghers }
                NOT = {
                    estate_influence = {
                        estate = estate_burghers
                        influence = 50
                    }
                }
            }
        }
        effect = {
            add_adm_power = 75
            add_dip_power = 75
            add_mil_power = 75
        }
    }
}